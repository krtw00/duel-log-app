---
depends_on: [./00-writing-guide.md]
tags: [governance, format, structure, metadata]
ai_summary: "ドキュメントの構造・分量・メタ情報・図・命名に関するフォーマット規範"
---

# フォーマット規範

> Status: Active
> 最終更新: 2026-01-23

ドキュメントの構造、分量、メタ情報、図、ファイル命名に関する規範を定義する。文章品質については[記載規範](./00-writing-guide.md)を参照。

---

## 構造規範

### 見出し階層

見出しは必ず順序を守る。飛ばさない。

```
# H1 - ドキュメントタイトル（1ファイル1つのみ）
## H2 - 主要セクション
### H3 - サブセクション
#### H4 - 詳細項目（必要な場合のみ）
```

### 1ファイル1責務

1つのドキュメントで1つのトピックを扱う。複数のトピックを混在させない。

### 見出しによる識別

ドキュメントは見出しだけで内容が把握できるように構成する。見出しにはプレフィックスIDやアンカーを活用し、一意に特定できるようにする。

### 表形式の活用

比較・一覧は表で記載する。箇条書きより表を優先。

---

## 分量ガイドライン

| 対象 | 上限 | 理由 |
|------|------|------|
| 1文 | 60字 | 可読性を保つ（英数字は1文字換算） |
| 1段落 | 3-5文 | 論点を明確に保つ |
| 1セクション | 50行 | 人間が一度に把握できる量 |
| 1ファイル | 200行 | AIのコンテキストウィンドウを圧迫しない |
| テーブル | 15行 | スクロールなしで視認できる量 |
| Mermaid図 | 15ノード | 複雑さを抑え理解しやすく保つ |

### 分割の原則

上限を超える場合は以下の基準で分割する：

- **ファイル分割**: 責務が複数混在している場合。新ファイルに独立したトピックを切り出す
- **セクション分割**: 1セクションが長い場合。サブ見出しで論点を分離する
- **図の分割**: ノードが15を超える場合。レイヤーや責務ごとに図を分ける

---

## 相互参照規範

### リンク形式

相対パスを使用する：

```markdown
[参照先のタイトル](../path/to/file.md) - 1文要約
```

### 関連ドキュメントセクション

各ファイル末尾に「関連ドキュメント」セクションを設置し、関連するドキュメントへのリンクと1文要約を記載する。

---

## メタ情報規範

### YAML Front Matter

すべてのドキュメントファイルに以下を必須とする。

| フィールド | 必須 | 説明 |
|-----------|:----:|------|
| `depends_on` | 任意 | このドキュメントが前提とする他ドキュメントの相対パス配列 |
| `tags` | 任意 | 分類・検索用キーワード（2〜4個推奨） |
| `ai_summary` | ✅ | ファイル内容を1文で要約（AIコンテキスト用） |

### ステータス表示

各ドキュメント冒頭に以下のいずれかを記載する：

| ステータス | 意味 |
|------------|------|
| **Draft** | 作成中。内容が不完全 |
| **Active** | 有効。現在の設計を反映 |
| **Deprecated** | 非推奨。参考情報として残す |

ADR（決定記録）では以下のステータスも使用する：

| ステータス | 意味 |
|------------|------|
| **Proposed** | 提案中。レビュー待ち |
| **Accepted** | 承認済み。実装に従う |
| **Superseded** | 後続ADRにより置換 |

### 最終更新日

各ドキュメント冒頭に `最終更新: YYYY-MM-DD` 形式で記載する。

### ドキュメント冒頭の完全形

```markdown
---
depends_on: [./00-writing-guide.md]
tags: [category, topic]
ai_summary: "このドキュメントの1文要約"
---

# タイトル

> Status: Active
> 最終更新: YYYY-MM-DD

概要（1-2文でこのドキュメントの目的を説明）

---

## 本文セクション
```

---

## 図の規範

### 使用ツール

**Mermaidのみ**を使用する。外部ツール（draw.io、Figma等）は使用しない。テキストベースでGit差分が取れ、AIが読み書きでき、追加ツールが不要である。

### 図の種類と用途

| 図の種類 | Mermaid記法 | 用途 |
|----------|-------------|------|
| フローチャート | `flowchart` | 処理フロー、状態遷移 |
| ER図 | `erDiagram` | データモデル |
| シーケンス図 | `sequenceDiagram` | コンポーネント間通信 |
| C4図 | `C4Context`, `C4Container` | システム構成 |
| クラス図 | `classDiagram` | 構造の関係性 |

### 記載ルール

- 図には必ずタイトルをつける（見出しまたはキャプション）
- 図の前後に説明文を添える（図だけで終わらせない）
- 1つの図は15ノード以内に収める

---

## ファイル命名規則

### 設計ドキュメント

番号付きディレクトリ + 英語ファイル名：

```
docs/
├── 01-overview/
│   └── summary.md
├── 02-architecture/
│   └── context.md
```

### ADR（決定記録）

4桁番号 + ケバブケース：

```
04-decisions/
├── 0001-use-typescript.md
├── 0002-adopt-postgresql.md
```

### GitHub標準ファイル

番号なし、大文字：`README.md`, `LICENSE`, `CONTRIBUTING.md`, `CHANGELOG.md`

---

## 関連ドキュメント

- [00-writing-guide.md](./00-writing-guide.md) - 文章品質・用語に関する記載規範
- [00-naming-guide.md](./00-naming-guide.md) - コード・DB・APIの命名規約
- [00-index.md](./00-index.md) - ドキュメント全体のナビゲーションハブ
- [00-git-guide.md](./00-git-guide.md) - コミット・ブランチ命名・変更履歴管理のGit規範
