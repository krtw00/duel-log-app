# 次期開発タスク一覧

## 概要

`backend`および`frontend`のコードベースを分析し、アプリケーションの品質、保守性、機能性を向上させるための次期開発タスクを以下に提案します。

## 優先度：高 (最優先で取り組むべき課題)

### 1. テストカバレッジの向上

現状、アプリケーションの信頼性を担保するテストが不足しています。特にバックエンドの主要なビジネスロジックと、フロントエンドのUIコンポーネントに対するテストが急務です。

- **バックエンド:**
  - [ ] `duel_service` および `duels` ルーターに対する単体・結合テストを作成する。
  - [ ] `statistics_service` および `statistics` ルーターのテストを作成する。
  - [ ] `user_service` および `users`, `me` ルーターのテストを作成する。
  - [ ] 認証 (`auth`) フローのテストを作成する。

- **フロントエンド:**
  - [ ] `vitest` などのテストフレームワークを導入する。
  - [ ] `DuelFormDialog` や `DuelTable` などの主要コンポーネントに対するユニットテストを作成する。
  - [ ] `DashboardView` や `StatisticsView` などの主要ビューに対するコンポーネントテストを作成する。

### 2. バックエンドのリファクタリングと機能強化

既存のコードベースを改善し、パフォーマンスと保守性を向上させます。

- **[ ] `user_service.py` のリファクタリング:**
  - `CHECKLIST.md` に記載されているタスク。`deck_service` や `duel_service` と同様に、`BaseService` を継承したクラスベースのサービスにリファクタリングします。

- **[ ] APIへのページネーション実装:**
  - `GET /duels/` や `GET /decks/` などの一覧取得APIは、現在全件取得となっています。データ増加に伴うパフォーマンス低下を防ぐため、`skip` と `limit` を利用したページネーションを実装します。

### 3. CI/CDパイプラインの構築

`CHECKLIST.md` にも記載されている通り、開発プロセスの自動化は重要です。

- **[ ] CIパイプラインの構築 (例: GitHub Actions):**
  - プルリクエスト作成時に、自動でLintチェックとテスト（バックエンド・フロントエンド）が実行されるワークフローを構築します。

## 優先度：中 (次に着手すべき課題)

### 1. パフォーマンス改善

フロントエンドの負荷を軽減し、UXを向上させます。

- **[ ] ダッシュボード統計処理のバックエンド移行:**
  - 現在 `DashboardView.vue` でクライアントサイドで計算されている各種統計情報（勝率、先行後攻率など）を、バックエンドで計算する新しいAPIエンドポイント (`/statistics/dashboard` など) を作成し、フロントエンドはそれを呼び出すように変更します。

### 2. フロントエンドの機能改善

既存機能の改善と、未実装機能の追加を行います。

- **[ ] `DecksView.vue` の機能レビューと改修:**
  - 現在のデッキ管理機能が十分かを確認し、UI/UXの改善（例: デッキごとのデュエル数表示、最終使用日など）を検討します。

- **[ ] ユーザープロフィール管理機能の追加:**
  - パスワード変更など、ユーザーが自身の情報を管理できるビュー (`ProfileView.vue` など) を作成します。

- **[ ] ページネーションのUI統合:**
  - バックエンドでページネーションが実装された後、フロントエンドの `DuelTable` や `DecksView` にページネーションUIを追加します。

## 優先度：低 (将来的に検討する課題)

- **[ ] より詳細な統計情報の追加:**
  - `CHECKLIST.md` に記載。特定のカードや期間に対する勝率分析など、より高度な統計機能の追加を検討します。

- **[ ] リアルタイム機能の導入:**
  - WebSocketを利用して、データのリアルタイム更新などを検討します。
